{% extends "base.html" %}

{% load imagekit %}

{% block content %}
{% if recipe.image %}
<div class="fill-width">
    {% generateimage 'cookbox_webui:thumbnail_large' source=recipe.image as th %}
    <img src="{{ th.url }}">
</div>
{% endif %}

<div class="fill-width">
    <h1>{{ recipe.name }}</h1>
    <a href="{% url 'recipe-edit' recipe.id %}">Edit</a>
    <p>{{ recipe.description }}</p>
</div>

<div class="fill-width">
    <p>      Total time: {{ recipe.total_time }} {{ recipe.unit_time }}</p>
    <p>Preparation time: {{ recipe.prep_time }} {{ recipe.unit_time }}</p>
    <p>       Cook time: {{ recipe.cook_time }} {{ recipe.unit_type }}</p>
    <p>           Yield: {{ recipe.total_yield }} {{ recipe.yield_unit }}</p>
    <p>    Serving size: {{ recipe.serving_size }} {{ recipe.yield_unit }}</p>
    <p>          Source: {{ recipe.source }}</p>
</div>

<div class="fill-width">
    <h1>Ingredients</h1>
    <ul>
        {% for ingredient_group in recipe.ingredient_groups.all %}
        <li>
            {{ ingredient_group.name }}
            <ul>
                {% for ingredient in ingredient_group.ingredients.all %}
                    <li>{{ ingredient.quantity }} {{ ingredient.unit }} {{ ingredient.description }}</li>
                {% endfor %}
            </ul>
        </li>
        {% empty %}
        No ingredients, yet.
        {% endfor %}
    </ul>
</div>

<div class="fill-width">
    <h1>Instructions</h1>
    <ol>
        {% for instruction in recipe.instructions.all %}
        <li>{{ instruction.instruction }}</li>
        {% empty %}
        No instructions, yet.
        {% endfor %}
    </ol>
</div>

<div class="fill-width">
    <h1>Notes</h1>
    <ul>
        {% for note in recipe.notes.all %}
        <li>{{ note.text }}</li>
        {% empty %}
        No notes, yet.
        {% endfor %}
    </ul>
</div>

<div class="fill-width">
    <h1>Tags</h1>
    <ul>
        {% for tag in recipe.tags.all %}
        <li>{{ tag.name }}</li>
        {% empty %}
        No tags, yet.
        {% endfor %}
    </ul>
</div>

{% endblock %}