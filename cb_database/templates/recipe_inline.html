{# Renders renders a formset (an inline)                    #}
{# Potentially renders nested forms                         #}
{# Expects variables: inline = the formset to be rendered   #}

<table id = "{{inline.prefix}}_form_set">
    {{ inline.management_form}}
    
    {% for form in inline.forms %}
        {% if forloop.first %} 
            {% include 'inline_table_head.html' with form=form %}
        {% endif %}

        {% include 'inline_table_row.html' with form=form %}

        {# Nested forms #}
        {% if form.nested %}
            {% include 'recipe_inline.html' with inline=form.nested %}
        {% endif %}
    {% endfor %}
</table>
<table id="{{ inline.prefix }}_empty_form" style="display:none" class= no_error>
    <tr>
        {% include 'inline_table_row.html' with form=inline.empty_form %}
    </tr>
</table>
<input type="button" value="Add more" id="{{ inline.prefix }}_add_more"><br/>
<script>
    $('#' + '{{ inline.prefix }}' + '_add_more').click(function() {
        add_form('{{ inline.prefix }}');
    });
</script>
